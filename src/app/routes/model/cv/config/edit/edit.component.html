<div class="modal-header">
  <div class="modal-title" *ngIf="record.id">训练参数配置</div>
  <div class="modal-title" *ngIf="!record.id">训练参数配置</div>
</div>
<nz-spin *ngIf="!formData" class="modal-spin"></nz-spin>

<div style="width: 100%; margin: 0 auto" *ngIf="formData">
  <form nz-form se-container="2" #f="ngForm" [gutter]="2" [labelWidth]="210">
    <se label="训练任务名称" required optionalHelp="属性名: name" col="2">
      <input type="text" nz-input [(ngModel)]="formData.name" name="name" required placeholder="请输入任务名称" />
    </se>
    <se label=""> </se>

    <se [label]="labels.model.cn" required col="2" optionalHelp="属性名: model">
      <nz-select [(ngModel)]="formData.model" name="model" style="width: 100%">
        <ng-container *ngFor="let model of cvModelAlgorithms">
          <nz-option [nzLabel]="'AdvGAN'" [nzValue]="model" *ngIf="model == 'advgan'"></nz-option>
          <nz-option [nzLabel]="model.toUpperCase()" [nzValue]="model" *ngIf="model != 'advgan'"></nz-option>
        </ng-container>
      </nz-select>
    </se>
    <se [label]="labels.path.cn" required col="2" optionalHelp="属性名: path">
      <input type="text" nz-input [(ngModel)]="formData.path" name="path" required placeholder="请输入路径" />
    </se>

    <se [label]="labels.clean_train_data_dir.cn" col="2" required optionalHelp="属性名: clean_train_data_dir">
      <input
        type="text"
        nz-input
        [(ngModel)]="formData.clean_train_data_dir"
        name="clean_train_data_dir"
        required
        placeholder="请输入路径"
      />
    </se>

    <se [label]="labels.clean_test_data_dir.cn" col="2" required optionalHelp="属性名: clean_test_data_dir">
      <input type="text" nz-input [(ngModel)]="formData.clean_test_data_dir" name="clean_test_data_dir" required placeholder="请输入路径" />
    </se>

    <se [label]="labels.adv_train_data_dir.cn" col="2" required optionalHelp="属性名: adv_train_data_dir">
      <input type="text" nz-input [(ngModel)]="formData.adv_train_data_dir" name="adv_train_data_dir" required placeholder="请输入路径" />
    </se>

    <!-- <se [label]="labels.adv_test_data_dir.cn" col="2" required optionalHelp="属性名: adv_test_data_dir">
      <input type="text" nz-input [(ngModel)]="formData.adv_test_data_dir" name="adv_test_data_dir" required placeholder="请输入路径" />
    </se> -->

    <se [label]="labels.label_dir.cn" col="2" required optionalHelp="属性名: label_dir">
      <input type="text" nz-input [(ngModel)]="formData.label_dir" name="label_dir" required placeholder="请输入路径" />
    </se>

    <se [label]="labels.patch_dir.cn" col="2" required optionalHelp="属性名: patch_dir">
      <input type="text" nz-input [(ngModel)]="formData.patch_dir" name="patch_dir" required placeholder="请输入路径" />
    </se>

    <se [label]="labels.orig_model_dir.cn" col="2" required optionalHelp="属性名: orig_model_dir">
      <input type="text" nz-input [(ngModel)]="formData.orig_model_dir" name="orig_model_dir" required placeholder="请输入路径" />
    </se>
    <se [label]="labels.target_mode_dir.cn" col="2" required optionalHelp="属性名: target_mode_dir">
      <input type="text" nz-input [(ngModel)]="formData.target_mode_dir" name="target_mode_dir" required placeholder="请输入路径" />
    </se>

    <se [label]="labels.weather_augmentations.cn" col="2" required optionalHelp="属性名: weather_augmentations">
      <input
        type="text"
        nz-input
        [(ngModel)]="formData.weather_augmentations"
        name="weather_augmentations"
        required
        placeholder="请输入路径"
      />
    </se>

    <!-- <se [label]="labels.config_opts_dir.cn" col="2" required optionalHelp="属性名: config_opts_dir">
      <input type="text" nz-input [(ngModel)]="formData.config_opts_dir" name="config_opts_dir" required placeholder="请输入路径" />
    </se> -->
  </form>
</div>
<div class="modal-footer">
  <button nz-button type="button" (click)="close()">关闭</button>
  <button nz-button nzType="primary" [disabled]="!isValid" (click)="save()"> 保存 </button>
</div>
